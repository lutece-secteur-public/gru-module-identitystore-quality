<#include "managequality_tabs.html" />
<@tabs tab="suspiciousidentity" />

<@rowBox>
    <@boxHeader i18nTitleKey="module.identitystore.quality.choose_duplicate_type.pageTitle">
        <@headerButtons>
            <@aButton  href='jsp/admin/plugins/identitystore/modules/quality/ManageSuspiciousIdentitys.jsp?action_purgeDuplicates'
            title='#i18n{module.identitystore.quality.choose_duplicate_type.buttonPurge}'
            buttonIcon='search' />
        </@headerButtons>
    </@boxHeader>
    <@boxBody>
        <@messages infos=infos />
        <@messages errors=errors />
        <@messages warnings=warnings />

        <@table id='select-duplicate-type-table'>
            <tr>
                <th>#i18n{module.identitystore.quality.choose_duplicate_type.ruleCode}</th>
                <th>#i18n{module.identitystore.quality.choose_duplicate_type.ruleColumn}</th>
                <th>#i18n{module.identitystore.quality.choose_duplicate_type.descriptionColumn}</th>
                <th>#i18n{module.identitystore.quality.choose_duplicate_type.priorityColumn}</th>
                <th>#i18n{module.identitystore.quality.choose_duplicate_type.pendingColumn}</th>
                <th></th>
            </tr>
            <@tableHeadBodySeparator />
            <#list duplicate_rule_list as rule>
                <tr class="rule-tr">
                    <td>
                        <a href="jsp/admin/plugins/identitystore/ManageDuplicateRules.jsp?view=displayDuplicateRule&id=${rule.id}"
                                       title="#i18n{identitystore.manage_duplicaterules.buttonDisplay}" >
                            ${rule.code}
                        </a>
                    </td>
                    <td>${rule.name}</td>
                    <td><pre>${rule.description}</pre></td>
                    <td>${rule.priority}</td>
                    <td>${rule.duplicateCount}</td>
                    <td><@aButton  href='jsp/admin/plugins/identitystore/modules/quality/ManageSuspiciousIdentitys.jsp?view_searchDuplicates&rule-code=${rule.code}'
                        title='#i18n{module.identitystore.quality.choose_duplicate_type.buttonSearch}'
                        buttonIcon='search' />
                    </td>
                    <td>
                        <@aButton  href='jsp/admin/plugins/identitystore/modules/quality/ManageSuspiciousIdentitys.jsp?action_purgeDuplicates&rule-id=${rule.id}'
                        title='#i18n{module.identitystore.quality.choose_duplicate_type.buttonPurgeRule}'
                        buttonIcon='search' />
                    </td>
                </tr>
            </#list>
        </@table>
    </@boxBody>
</@rowBox>

<style>
    pre {
        background: inherit !important;
        color: inherit !important;
        font-family: inherit !important;
        padding: 0 !important;
        border-radius: unset !important;
        font-size: inherit !important;
    }
</style>
