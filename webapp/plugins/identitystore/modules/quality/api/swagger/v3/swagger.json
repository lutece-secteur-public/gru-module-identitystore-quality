{"swagger":"2.0","info":{"description":"This API can be used by client application to manage and retreive information about identities quality.","version":"V3","title":"Identity store quality API"},"tags":[{"name":"restidentitystorev3quality"}],"consumes":["application/json"],"produces":["application/json"],"paths":{"/rest/identitystore/v3/quality/suspicions/search":{"post":{"tags":["restidentitystorev3quality"],"summary":"Get a paginated list of suspicions, according to criteria specified in the request","operationId":"getSuspiciousIdentityList","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"Request body.","description":"The suspicious identity search request","required":false,"schema":{"$ref":"#/definitions/suspicious_identity_search"}},{"name":"client_code","in":"header","description":"Client code of the requester that is used to validate every request over its service contract","required":false,"type":"string"},{"name":"author_name","in":"header","description":"Name of the author that signs the request","required":false,"type":"string"},{"name":"author_type","in":"header","description":"Type of the author that signs the request","required":false,"type":"string"},{"name":"application_code","in":"header","description":"Application code of the requester. If sent, the adequation between the client code and this application code will be verified.","required":false,"type":"string"}],"responses":{"200":{"description":"The request has succeeded."},"400":{"description":"The request could not be understood by the server due to incorrect syntax. The client SHOULD NOT repeat the request without modifications."},"401":{"description":"The request requires user authentication information. The client MAY repeat the request with a suitable Authorization header field."},"403":{"description":"Failure"},"404":{"description":"No resource matching the request coud be found"},"409":{"description":"Conflict"},"500":{"description":"Conflict"}}}},"/rest/identitystore/v3/quality/suspicions":{"post":{"tags":["restidentitystorev3quality"],"summary":"Create a new Suspicious Identity","description":"The creation is conditioned by the service contract definition associated to the client application code.","operationId":"createSuspiciousIdentity","consumes":["application/json"],"parameters":[{"in":"body","name":"Request body","description":"An Identity Change Request","required":false,"schema":{"$ref":"#/definitions/suspicious_identity_change"}},{"name":"client_code","in":"header","description":"Client code of the requester that is used to validate every request over its service contract","required":false,"type":"string"},{"name":"author_name","in":"header","description":"Name of the author that signs the request","required":false,"type":"string"},{"name":"author_type","in":"header","description":"Type of the author that signs the request","required":false,"type":"string"},{"name":"client_code","in":"query","required":false,"type":"string"},{"name":"application_code","in":"header","description":"Application code of the requester. If sent, the adequation between the client code and this application code will be verified.","required":false,"type":"string"}],"responses":{"201":{"description":"Success"},"400":{"description":"An error occurred during the treatment. with explanation message"},"403":{"description":"Failure"},"409":{"description":"Conflict"}}}},"/rest/identitystore/v3/quality/exclusion":{"put":{"tags":["restidentitystorev3quality"],"summary":"Exclude identities","description":"Exclude identities from duplicate suspicions.","operationId":"excludeSuspiciousIdentity","consumes":["application/json"],"parameters":[{"in":"body","name":"Request body","description":"An Identity exclusion request","required":false,"schema":{"$ref":"#/definitions/SuspiciousIdentityExcludeRequest"}},{"name":"client_code","in":"header","description":"Client code of the requester that is used to validate every request over its service contract","required":false,"type":"string"},{"name":"author_name","in":"header","description":"Name of the author that signs the request","required":false,"type":"string"},{"name":"author_type","in":"header","description":"Type of the author that signs the request","required":false,"type":"string"},{"name":"application_code","in":"header","description":"Application code of the requester. If sent, the adequation between the client code and this application code will be verified.","required":false,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/response"}},"201":{"description":"Success"},"403":{"description":"Failure"}}}},"/rest/identitystore/v3/quality/unexclude":{"post":{"tags":["restidentitystorev3quality"],"summary":"Cancel identities exclusion","description":"Cancel identities exclusion from duplicate suspicions.","operationId":"cancelSuspiciousIdentityExclusion","consumes":["application/json"],"parameters":[{"in":"body","name":"Request body","description":"An Identity exclusion cancel request","required":false,"schema":{"$ref":"#/definitions/SuspiciousIdentityExcludeRequest"}},{"name":"client_code","in":"header","description":"Client code of the requester that is used to validate every request over its service contract","required":false,"type":"string"},{"name":"author_name","in":"header","description":"Name of the author that signs the request","required":false,"type":"string"},{"name":"author_type","in":"header","description":"Type of the author that signs the request","required":false,"type":"string"},{"name":"application_code","in":"header","description":"Application code of the requester. If sent, the adequation between the client code and this application code will be verified.","required":false,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/response"}},"201":{"description":"Success"},"403":{"description":"Failure"}}}},"/rest/identitystore/v3/quality/rules":{"get":{"tags":["restidentitystorev3quality"],"summary":"Get full list of duplicate rules","operationId":"getDuplicateRules","produces":["application/json"],"parameters":[{"name":"client_code","in":"header","required":false,"type":"string"},{"name":"client_code","in":"query","required":false,"type":"string"},{"name":"priority","in":"query","required":false,"type":"integer","format":"int32"},{"name":"author_name","in":"header","description":"Name of the author that signs the request","required":false,"type":"string"},{"name":"author_type","in":"header","description":"Type of the author that signs the request","required":false,"type":"string"},{"name":"application_code","in":"header","description":"Application code of the requester. If sent, the adequation between the client code and this application code will be verified.","required":false,"type":"string"}],"responses":{"200":{"description":"Rules Found"},"400":{"description":"An error occurred during the treatment. with explanation message"},"403":{"description":"Failure"},"404":{"description":"No object found"}}}},"/rest/identitystore/v3/quality/duplicate/{customer_id}":{"get":{"tags":["restidentitystorev3quality"],"summary":"Get list of identities that are duplicates of the provided customer_id's identity, according to the provided rule ID.","operationId":"findDuplicates","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"customer_id","in":"path","description":"the id of the customer","required":true,"type":"string"},{"name":"code","in":"query","description":"the code of the rule","required":false,"type":"string"},{"name":"client_code","in":"header","required":false,"type":"string"},{"name":"author_name","in":"header","description":"Name of the author that signs the request","required":false,"type":"string"},{"name":"author_type","in":"header","description":"Type of the author that signs the request","required":false,"type":"string"},{"name":"application_code","in":"header","description":"Application code of the requester. If sent, the adequation between the client code and this application code will be verified.","required":false,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/response"}}}}},"/rest/identitystore/v3/quality/duplicate/search":{"post":{"tags":["restidentitystorev3quality"],"summary":"Get list of identities that are duplicates of the provided customer_id's identity, according to the provided rule ID.","operationId":"searchDuplicates","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/DuplicateSearchRequest"}},{"name":"client_code","in":"header","required":false,"type":"string"},{"name":"author_name","in":"header","description":"Name of the author that signs the request","required":false,"type":"string"},{"name":"author_type","in":"header","description":"Type of the author that signs the request","required":false,"type":"string"},{"name":"application_code","in":"header","description":"Application code of the requester. If sent, the adequation between the client code and this application code will be verified.","required":false,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/response"}}}}},"/rest/identitystore/v3/quality/lock":{"post":{"tags":["restidentitystorev3quality"],"summary":"Lock an existing Suspicious Identity","description":"The suspicious identity must exist.","operationId":"lock","consumes":["application/json"],"parameters":[{"in":"body","name":"Request body","description":"An Identity exclusion request","required":false,"schema":{"$ref":"#/definitions/SuspiciousIdentityLockRequest"}},{"name":"client_code","in":"header","description":"Client code of the requester that is used to validate every request over its service contract","required":false,"type":"string"},{"name":"author_name","in":"header","description":"Name of the author that signs the request","required":false,"type":"string"},{"name":"author_type","in":"header","description":"Type of the author that signs the request","required":false,"type":"string"},{"name":"application_code","in":"header","description":"Application code of the requester. If sent, the adequation between the client code and this application code will be verified.","required":false,"type":"string"}],"responses":{"201":{"description":"Success"},"400":{"description":"An error occurred during the treatment. with explanation message"},"403":{"description":"Failure"},"409":{"description":"Conflict"}}}}},"definitions":{"AttributeStatus":{"type":"object","properties":{"key":{"type":"string"},"status":{"type":"string","enum":["CREATED","NOT_CREATED","UPDATED","REMOVED","NOT_REMOVED","NOT_UPDATED","NOT_FOUND","INSUFFICIENT_CERTIFICATION_LEVEL","INSUFFICIENT_RIGHTS","UNAUTHORIZED","UNKNOWN_GEOCODES_CODE","UNKNOWN_GEOCODES_LABEL","MULTIPLE_GEOCODES_RESULTS_FOR_LABEL","OVERRIDDEN_GEOCODES_LABEL","INVALID_VALUE","FORMATTED_VALUE","UNCERTIFIED"]},"message":{"type":"string"},"message_key":{"type":"string"}}},"Page":{"type":"object","properties":{"total_records":{"type":"integer","format":"int32"},"current_page":{"type":"integer","format":"int32"},"total_pages":{"type":"integer","format":"int32"},"next_page":{"type":"integer","format":"int32"},"prev_page":{"type":"integer","format":"int32"}}},"RequestAuthor":{"type":"object","properties":{"author_name":{"type":"string"},"author_type":{"type":"string","enum":["owner","agent","admin","application"]}}},"ResponseStatus":{"type":"object","properties":{"http_code":{"type":"integer","format":"int32","readOnly":true},"status":{"type":"string","readOnly":true,"enum":["OK","SUCCESS","INCOMPLETE_SUCCESS","BAD_REQUEST","UNAUTHORIZED","FAILURE","NOT_FOUND","CONFLICT","INTERNAL_SERVER_ERROR"]},"message":{"type":"string"},"message_key":{"type":"string"},"attributes_status":{"type":"array","items":{"$ref":"#/definitions/AttributeStatus"}}}},"SuspiciousIdentityDto":{"type":"object","properties":{"duplicate_rule_code":{"type":"string"},"customer_id":{"type":"string"},"creation_date":{"type":"string","format":"date-time"},"last_update_date":{"type":"string","format":"date-time"},"lock":{"$ref":"#/definitions/SuspiciousIdentityLockDto"},"metadata":{"type":"object","additionalProperties":{"type":"string"}}}},"SuspiciousIdentityLockDto":{"type":"object","properties":{"locked":{"type":"boolean"},"lock_end_date":{"type":"string","format":"date-time"},"author":{"$ref":"#/definitions/RequestAuthor"}}},"response":{"type":"object","properties":{"status":{"$ref":"#/definitions/ResponseStatus"},"identities":{"type":"array","items":{"$ref":"#/definitions/IdentityDto"}},"metadata":{"type":"object","additionalProperties":{"type":"string"}}}},"SearchAttribute":{"type":"object","properties":{"key":{"type":"string"},"value":{"type":"string"},"treatmentType":{"type":"string","enum":["DIFFERENT","APPROXIMATED","STRICTLY_APPROXIMATED","STRICT","ABSENT"]}}},"suspicious_identity_search":{"type":"object","properties":{"rule_code":{"type":"string"},"rule_priority":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"page":{"type":"integer","format":"int32"},"max":{"type":"integer","format":"int32"},"attribute_values":{"type":"array","items":{"$ref":"#/definitions/SearchAttribute"}}}},"suspicious_identity_change":{"type":"object","properties":{"suspicious_identity":{"$ref":"#/definitions/SuspiciousIdentityDto"}}},"SuspiciousIdentityExcludeRequest":{"type":"object","properties":{"identity_cuid_1":{"type":"string"},"identity_cuid_2":{"type":"string"}}},"DuplicateRuleSummaryDto":{"type":"object","properties":{"description":{"type":"string"},"id":{"type":"integer","format":"int32"},"code":{"type":"string"},"duplicateCount":{"type":"integer","format":"int32"},"daemonLastExecDate":{"type":"string","format":"date-time"},"name":{"type":"string"},"priority":{"type":"integer","format":"int32"}}},"AttributeDto":{"type":"object","properties":{"key":{"type":"string"},"value":{"type":"string"},"type":{"type":"string"},"certificationLevel":{"type":"integer","format":"int32"},"lastUpdateDate":{"type":"string","format":"date-time"},"lastUpdateClientCode":{"type":"string"},"certProcess":{"type":"string"},"certDate":{"type":"string","format":"date-time"}}},"ConsolidateDefinition":{"type":"object","properties":{"merged_identities":{"type":"array","items":{"$ref":"#/definitions/IdentityDto"}}}},"ExpirationDefinition":{"type":"object","properties":{"deleted":{"type":"boolean"},"expiration_date":{"type":"string","format":"date-time"},"delete_date":{"type":"string","format":"date-time"}}},"IdentityDto":{"type":"object","properties":{"duplicateDefinition":{"$ref":"#/definitions/IdentityDuplicateDefinition"},"connection_id":{"type":"string"},"customer_id":{"type":"string"},"external_customer_id":{"type":"string"},"mon_paris_active":{"type":"boolean"},"creation_date":{"type":"string","format":"date-time"},"last_update_date":{"type":"string","format":"date-time"},"quality":{"$ref":"#/definitions/QualityDefinition"},"expiration":{"$ref":"#/definitions/ExpirationDefinition"},"merge":{"$ref":"#/definitions/MergeDefinition"},"consolidate":{"$ref":"#/definitions/ConsolidateDefinition"},"suspicious":{"type":"boolean"},"attributes":{"type":"array","items":{"$ref":"#/definitions/AttributeDto"}}}},"IdentityDuplicateDefinition":{"type":"object","properties":{"duplicateExclusions":{"type":"array","items":{"$ref":"#/definitions/IdentityDuplicateExclusion"}},"duplicateSuspicion":{"$ref":"#/definitions/IdentityDuplicateSuspicion"},"excluded":{"type":"boolean"},"suspicious":{"type":"boolean"}}},"IdentityDuplicateExclusion":{"type":"object","properties":{"excludedCustomerId":{"type":"string"},"exclusionDate":{"type":"string","format":"date-time"},"authorType":{"type":"string"},"authorName":{"type":"string"}}},"IdentityDuplicateSuspicion":{"type":"object","properties":{"duplicateRuleCode":{"type":"string"},"creationDate":{"type":"string","format":"date-time"}}},"MergeDefinition":{"type":"object","properties":{"master_customer_id":{"type":"string"},"merge_date":{"type":"string","format":"date-time"}}},"QualityDefinition":{"type":"object","properties":{"quality":{"type":"number","format":"double"},"coverage":{"type":"integer","format":"int32"},"scoring":{"type":"number","format":"double"}}},"DuplicateSearchRequest":{"type":"object","properties":{"rule_codes":{"type":"array","items":{"type":"string"}},"attribute_values":{"type":"object","additionalProperties":{"type":"string"}}}},"SuspiciousIdentityLockRequest":{"type":"object","properties":{"customer_id":{"type":"string"},"locked":{"type":"boolean"}}}},"externalDocs":{"description":"Lutèce WIKI","url":"https://lutece.paris.fr/support/wiki/gru-library-identityquality.html"}}